<script>
window.addEventListener("load", () => {
  const params = new URLSearchParams(window.location.search);
  const clubId = params.get("club");

  if (!clubId) {
    console.error("No club id in URL");
    return;
  }

  const url = `https://smitty101.github.io/smitty-golf/data/club-${clubId}.json`;

  fetch(url, { cache: "no-store" })
    .then(response => {
      if (!response.ok) {
        throw new Error("GitHub data file not found");
      }
      return response.json();
    })
    .then(data => {
      document.getElementById("club-brand-model").textContent =
        data.brandModel || "Not set";

      document.getElementById("club-type").textContent =
        data.clubType || "Not set";

      document.getElementById("club-distance").textContent =
        data.typicalDistance || "Not set";

      document.getElementById("club-use").textContent =
        data.shotUse || "Not set";

      document.getElementById("club-consistency").textContent =
        data.consistentSwing || "Not set";

      document.getElementById("club-notes").textContent =
        data.swingNotes || "None";
    })
    .catch(err => {
      console.error("GitHub load failed:", err);
    });
});
</script>
